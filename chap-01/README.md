# 01. 쿠버네티스 소개


* 많은 애플리케이션이 하나의 프로세스 또는 몇개의 서버에 분산된 프로세스로 실행되며 릴리스 주기가 느린 **모놀리스**에서 독립적으로 개발 및 배포되며 자주 업데이트가 가능한 **마이크로서비스**로 변화
* 구성요소의 수가 많아지면서 이를 구성 및 관리하는 일이 점점 어려워짐
* 쿠버네티스가 이를 대신 해줌
* 개발팀은 운영팀 없이 쉽게 자주 배포 및 운영 가능
* 개발팀 뿐만 아니라 운영팀도 애플리케이션 자체가 아니라 인프라를 감독하는 것에 집중할 수 있게 해줌
* 애플리케이션은 쿠버네티스가 관리해줌
* 클러스터를 하나의 거대한 컴퓨팅 리소스로 추상화
* 리소스를 활용률을 높이고 하드웨어 비용을 낮춰줌

## 1.1 쿠버네티스와 같은 시스템이 필요한 이유 
* 모놀리스의 단점
  * 일부를 변경하더라도 전체를 재배포해야함
  * 컴포넌트간의 경계가 불분명해지고 결합도가 커져 복잡도 증가
  * 확장이 어려움
    * 수직 확장은 한계가 있고 비용이 비쌈
    * 수평 확장을 하려면 전체 시스템을 복사해야하는데, 일부분이 확장되기 어려울 수 있음(RDB)
* 마이크로서비스의 특징 및 장점
  * 잘 정의된 인터페이스(API)로 컴포넌트간 통신
  * 컴포넌트간 통신 방식
    * 동기 프로토콜(HTTP)
    * 비동기 프로토콜(AMQP)
    * gRPC, RSocket, ...
  * 각 컴포넌트는 서로 다른 언어로 구현 가능
  * 개별적으로 개발 및 배포 가능
  * 개별적으로 확장 가능
  * 자유롭게 서로 다른 서버에서 실행 가능
* 마이크로서비스의 단점
  * 컴포넌트의 수가 너무 많아져서 구성 및 운영, 장애 시 대처가 어려움
  * 디버깅이 어려움
  * 종속성 관리 어려움
    * 환경 요구사항의 다양성
    * 동일한 서버에서 여러 앱이 실행되면 다른 버전의 동일한 라이브러리의 사용으로 인한 충돌 발생 가능
* 데브옵스
  * 과거에는 개발자가 애플리케이션을 만들어서 운영팀에 넘겨주었다
  * 이제는 개발팀이 배포와 관리를 모두 하는것이 낫다는 것을 꺠달았다
  * 개발자, QA, 운영팀이 전체 프로세스에서 협업하는 것
* 데브옵스 장점
  * 자주 배포하여 추가적인 사용자의 피드백을 받아 반영하기 수월
* 개발팀과 운영팀의 관심사 차이
  * 개발팀은 새로운 기능의 추가, 사용자 경험의 향상에 관심
  * 운영팀은 보안, 사용률, 인프라 유지 등, 개발팀과는 다른 측면에 관심
  * **쿠버네티스는 개발팀과 운영팀이 각자의 관심사에 집중할 수 있게 해줌**
* 노옵스
  * 하드웨어 인프라를 전혀 알지 못하더라도 운영 팀을 거치지 않고 개발자가 애플리케이션을 직접 배포하는 방식
  
## 1.2 컨테이너 기술 소개
* 서로 다른 환경에서 실행되는 여러 구성요소들을 위해 여러 가상머신을 사용할 수 있음
* 하지만 구성요소의 크기가 점점 작아지고, 수가 많아지면 각 구성요소를 가상머신으로 구성하면 리소스의 낭비와 관리자의 작업량이 증가
* VM 대신 리눅스 컨테이너 기술 사용
* VM 과는 달리 동일한 컨테이너에서 실행되는 프로세스는 모두 동일한 호스트에서 실행
* VM 은 컴포넌트 프로세스 이외에 시스템 프로세스도 실행해야 하므로 추가 리소스가 필요
* 컨테이너는 단지 격리된 프로세스
* VM 에서 시스템콜을 수행하면 게스트O
